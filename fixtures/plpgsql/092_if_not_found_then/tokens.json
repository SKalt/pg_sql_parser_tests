[
  {
    "Name": "CREATE",
    "Start": 0,
    "End": 6,
    "Text": "CREATE"
  },
  {
    "Name": "TABLE",
    "Start": 7,
    "End": 12,
    "Text": "TABLE"
  },
  {
    "Name": "IDENT",
    "Start": 13,
    "End": 16,
    "Text": "emp"
  },
  {
    "Name": "ASCII_40",
    "Start": 17,
    "End": 18,
    "Text": "("
  },
  {
    "Name": "IDENT",
    "Start": 23,
    "End": 30,
    "Text": "empname"
  },
  {
    "Name": "TEXT_P",
    "Start": 41,
    "End": 45,
    "Text": "text"
  },
  {
    "Name": "PRIMARY",
    "Start": 46,
    "End": 53,
    "Text": "PRIMARY"
  },
  {
    "Name": "KEY",
    "Start": 54,
    "End": 57,
    "Text": "KEY"
  },
  {
    "Name": "ASCII_44",
    "Start": 57,
    "End": 58,
    "Text": ","
  },
  {
    "Name": "IDENT",
    "Start": 63,
    "End": 69,
    "Text": "salary"
  },
  {
    "Name": "INTEGER",
    "Start": 81,
    "End": 88,
    "Text": "integer"
  },
  {
    "Name": "ASCII_41",
    "Start": 89,
    "End": 90,
    "Text": ")"
  },
  {
    "Name": "ASCII_59",
    "Start": 90,
    "End": 91,
    "Text": ";"
  },
  {
    "Name": "CREATE",
    "Start": 93,
    "End": 99,
    "Text": "CREATE"
  },
  {
    "Name": "TABLE",
    "Start": 100,
    "End": 105,
    "Text": "TABLE"
  },
  {
    "Name": "IDENT",
    "Start": 106,
    "End": 115,
    "Text": "emp_audit"
  },
  {
    "Name": "ASCII_40",
    "Start": 115,
    "End": 116,
    "Text": "("
  },
  {
    "Name": "IDENT",
    "Start": 121,
    "End": 130,
    "Text": "operation"
  },
  {
    "Name": "CHAR_P",
    "Start": 139,
    "End": 143,
    "Text": "char"
  },
  {
    "Name": "ASCII_40",
    "Start": 143,
    "End": 144,
    "Text": "("
  },
  {
    "Name": "ICONST",
    "Start": 144,
    "End": 145,
    "Text": "1"
  },
  {
    "Name": "ASCII_41",
    "Start": 145,
    "End": 146,
    "Text": ")"
  },
  {
    "Name": "NOT",
    "Start": 149,
    "End": 152,
    "Text": "NOT"
  },
  {
    "Name": "NULL_P",
    "Start": 153,
    "End": 157,
    "Text": "NULL"
  },
  {
    "Name": "ASCII_44",
    "Start": 157,
    "End": 158,
    "Text": ","
  },
  {
    "Name": "IDENT",
    "Start": 163,
    "End": 169,
    "Text": "userid"
  },
  {
    "Name": "TEXT_P",
    "Start": 181,
    "End": 185,
    "Text": "text"
  },
  {
    "Name": "NOT",
    "Start": 191,
    "End": 194,
    "Text": "NOT"
  },
  {
    "Name": "NULL_P",
    "Start": 195,
    "End": 199,
    "Text": "NULL"
  },
  {
    "Name": "ASCII_44",
    "Start": 199,
    "End": 200,
    "Text": ","
  },
  {
    "Name": "IDENT",
    "Start": 205,
    "End": 212,
    "Text": "empname"
  },
  {
    "Name": "TEXT_P",
    "Start": 223,
    "End": 227,
    "Text": "text"
  },
  {
    "Name": "NOT",
    "Start": 233,
    "End": 236,
    "Text": "NOT"
  },
  {
    "Name": "NULL_P",
    "Start": 237,
    "End": 241,
    "Text": "NULL"
  },
  {
    "Name": "ASCII_44",
    "Start": 241,
    "End": 242,
    "Text": ","
  },
  {
    "Name": "IDENT",
    "Start": 247,
    "End": 253,
    "Text": "salary"
  },
  {
    "Name": "INTEGER",
    "Start": 265,
    "End": 272,
    "Text": "integer"
  },
  {
    "Name": "ASCII_44",
    "Start": 272,
    "End": 273,
    "Text": ","
  },
  {
    "Name": "IDENT",
    "Start": 278,
    "End": 283,
    "Text": "stamp"
  },
  {
    "Name": "TIMESTAMP",
    "Start": 296,
    "End": 305,
    "Text": "timestamp"
  },
  {
    "Name": "NOT",
    "Start": 306,
    "End": 309,
    "Text": "NOT"
  },
  {
    "Name": "NULL_P",
    "Start": 310,
    "End": 314,
    "Text": "NULL"
  },
  {
    "Name": "ASCII_41",
    "Start": 315,
    "End": 316,
    "Text": ")"
  },
  {
    "Name": "ASCII_59",
    "Start": 316,
    "End": 317,
    "Text": ";"
  },
  {
    "Name": "CREATE",
    "Start": 319,
    "End": 325,
    "Text": "CREATE"
  },
  {
    "Name": "VIEW",
    "Start": 326,
    "End": 330,
    "Text": "VIEW"
  },
  {
    "Name": "IDENT",
    "Start": 331,
    "End": 339,
    "Text": "emp_view"
  },
  {
    "Name": "AS",
    "Start": 340,
    "End": 342,
    "Text": "AS"
  },
  {
    "Name": "SELECT",
    "Start": 347,
    "End": 353,
    "Text": "SELECT"
  },
  {
    "Name": "IDENT",
    "Start": 354,
    "End": 355,
    "Text": "e"
  },
  {
    "Name": "ASCII_46",
    "Start": 355,
    "End": 356,
    "Text": "."
  },
  {
    "Name": "IDENT",
    "Start": 356,
    "End": 363,
    "Text": "empname"
  },
  {
    "Name": "ASCII_44",
    "Start": 363,
    "End": 364,
    "Text": ","
  },
  {
    "Name": "IDENT",
    "Start": 376,
    "End": 377,
    "Text": "e"
  },
  {
    "Name": "ASCII_46",
    "Start": 377,
    "End": 378,
    "Text": "."
  },
  {
    "Name": "IDENT",
    "Start": 378,
    "End": 384,
    "Text": "salary"
  },
  {
    "Name": "ASCII_44",
    "Start": 384,
    "End": 385,
    "Text": ","
  },
  {
    "Name": "IDENT",
    "Start": 397,
    "End": 400,
    "Text": "max"
  },
  {
    "Name": "ASCII_40",
    "Start": 400,
    "End": 401,
    "Text": "("
  },
  {
    "Name": "IDENT",
    "Start": 401,
    "End": 403,
    "Text": "ea"
  },
  {
    "Name": "ASCII_46",
    "Start": 403,
    "End": 404,
    "Text": "."
  },
  {
    "Name": "IDENT",
    "Start": 404,
    "End": 409,
    "Text": "stamp"
  },
  {
    "Name": "ASCII_41",
    "Start": 409,
    "End": 410,
    "Text": ")"
  },
  {
    "Name": "AS",
    "Start": 411,
    "End": 413,
    "Text": "AS"
  },
  {
    "Name": "IDENT",
    "Start": 414,
    "End": 426,
    "Text": "last_updated"
  },
  {
    "Name": "FROM",
    "Start": 433,
    "End": 437,
    "Text": "FROM"
  },
  {
    "Name": "IDENT",
    "Start": 438,
    "End": 441,
    "Text": "emp"
  },
  {
    "Name": "IDENT",
    "Start": 442,
    "End": 443,
    "Text": "e"
  },
  {
    "Name": "LEFT",
    "Start": 450,
    "End": 454,
    "Text": "LEFT"
  },
  {
    "Name": "JOIN",
    "Start": 455,
    "End": 459,
    "Text": "JOIN"
  },
  {
    "Name": "IDENT",
    "Start": 460,
    "End": 469,
    "Text": "emp_audit"
  },
  {
    "Name": "IDENT",
    "Start": 470,
    "End": 472,
    "Text": "ea"
  },
  {
    "Name": "ON",
    "Start": 473,
    "End": 475,
    "Text": "ON"
  },
  {
    "Name": "IDENT",
    "Start": 476,
    "End": 478,
    "Text": "ea"
  },
  {
    "Name": "ASCII_46",
    "Start": 478,
    "End": 479,
    "Text": "."
  },
  {
    "Name": "IDENT",
    "Start": 479,
    "End": 486,
    "Text": "empname"
  },
  {
    "Name": "ASCII_61",
    "Start": 487,
    "End": 488,
    "Text": "="
  },
  {
    "Name": "IDENT",
    "Start": 489,
    "End": 490,
    "Text": "e"
  },
  {
    "Name": "ASCII_46",
    "Start": 490,
    "End": 491,
    "Text": "."
  },
  {
    "Name": "IDENT",
    "Start": 491,
    "End": 498,
    "Text": "empname"
  },
  {
    "Name": "GROUP_P",
    "Start": 504,
    "End": 509,
    "Text": "GROUP"
  },
  {
    "Name": "BY",
    "Start": 510,
    "End": 512,
    "Text": "BY"
  },
  {
    "Name": "ICONST",
    "Start": 513,
    "End": 514,
    "Text": "1"
  },
  {
    "Name": "ASCII_44",
    "Start": 514,
    "End": 515,
    "Text": ","
  },
  {
    "Name": "ICONST",
    "Start": 516,
    "End": 517,
    "Text": "2"
  },
  {
    "Name": "ASCII_59",
    "Start": 517,
    "End": 518,
    "Text": ";"
  },
  {
    "Name": "CREATE",
    "Start": 520,
    "End": 526,
    "Text": "CREATE"
  },
  {
    "Name": "OR",
    "Start": 527,
    "End": 529,
    "Text": "OR"
  },
  {
    "Name": "REPLACE",
    "Start": 530,
    "End": 537,
    "Text": "REPLACE"
  },
  {
    "Name": "FUNCTION",
    "Start": 538,
    "End": 546,
    "Text": "FUNCTION"
  },
  {
    "Name": "IDENT",
    "Start": 547,
    "End": 562,
    "Text": "update_emp_view"
  },
  {
    "Name": "ASCII_40",
    "Start": 562,
    "End": 563,
    "Text": "("
  },
  {
    "Name": "ASCII_41",
    "Start": 563,
    "End": 564,
    "Text": ")"
  },
  {
    "Name": "RETURNS",
    "Start": 565,
    "End": 572,
    "Text": "RETURNS"
  },
  {
    "Name": "TRIGGER",
    "Start": 573,
    "End": 580,
    "Text": "TRIGGER"
  },
  {
    "Name": "AS",
    "Start": 581,
    "End": 583,
    "Text": "AS"
  },
  {
    "Name": "SCONST",
    "Start": 584,
    "End": 1548,
    "Text": "$$\n    BEGIN\n        --\n        -- Perform the required operation on emp, and create a row in emp_audit\n        -- to reflect the change made to emp.\n        --\n        IF (TG_OP = 'DELETE') THEN\n            DELETE FROM emp WHERE empname = OLD.empname;\n            IF NOT FOUND THEN RETURN NULL; END IF;\n\n            OLD.last_updated = now();\n            INSERT INTO emp_audit VALUES('D', user, OLD.*);\n            RETURN OLD;\n        ELSIF (TG_OP = 'UPDATE') THEN\n            UPDATE emp SET salary = NEW.salary WHERE empname = OLD.empname;\n            IF NOT FOUND THEN RETURN NULL; END IF;\n\n            NEW.last_updated = now();\n            INSERT INTO emp_audit VALUES('U', user, NEW.*);\n            RETURN NEW;\n        ELSIF (TG_OP = 'INSERT') THEN\n            INSERT INTO emp VALUES(NEW.empname, NEW.salary);\n\n            NEW.last_updated = now();\n            INSERT INTO emp_audit VALUES('I', user, NEW.*);\n            RETURN NEW;\n        END IF;\n    END;\n$$"
  },
  {
    "Name": "LANGUAGE",
    "Start": 1549,
    "End": 1557,
    "Text": "LANGUAGE"
  },
  {
    "Name": "IDENT",
    "Start": 1558,
    "End": 1565,
    "Text": "plpgsql"
  },
  {
    "Name": "ASCII_59",
    "Start": 1565,
    "End": 1566,
    "Text": ";"
  },
  {
    "Name": "CREATE",
    "Start": 1568,
    "End": 1574,
    "Text": "CREATE"
  },
  {
    "Name": "TRIGGER",
    "Start": 1575,
    "End": 1582,
    "Text": "TRIGGER"
  },
  {
    "Name": "IDENT",
    "Start": 1583,
    "End": 1592,
    "Text": "emp_audit"
  },
  {
    "Name": "INSTEAD",
    "Start": 1593,
    "End": 1600,
    "Text": "INSTEAD"
  },
  {
    "Name": "OF",
    "Start": 1601,
    "End": 1603,
    "Text": "OF"
  },
  {
    "Name": "INSERT",
    "Start": 1604,
    "End": 1610,
    "Text": "INSERT"
  },
  {
    "Name": "OR",
    "Start": 1611,
    "End": 1613,
    "Text": "OR"
  },
  {
    "Name": "UPDATE",
    "Start": 1614,
    "End": 1620,
    "Text": "UPDATE"
  },
  {
    "Name": "OR",
    "Start": 1621,
    "End": 1623,
    "Text": "OR"
  },
  {
    "Name": "DELETE_P",
    "Start": 1624,
    "End": 1630,
    "Text": "DELETE"
  },
  {
    "Name": "ON",
    "Start": 1631,
    "End": 1633,
    "Text": "ON"
  },
  {
    "Name": "IDENT",
    "Start": 1634,
    "End": 1642,
    "Text": "emp_view"
  },
  {
    "Name": "FOR",
    "Start": 1647,
    "End": 1650,
    "Text": "FOR"
  },
  {
    "Name": "EACH",
    "Start": 1651,
    "End": 1655,
    "Text": "EACH"
  },
  {
    "Name": "ROW",
    "Start": 1656,
    "End": 1659,
    "Text": "ROW"
  },
  {
    "Name": "EXECUTE",
    "Start": 1660,
    "End": 1667,
    "Text": "EXECUTE"
  },
  {
    "Name": "FUNCTION",
    "Start": 1668,
    "End": 1676,
    "Text": "FUNCTION"
  },
  {
    "Name": "IDENT",
    "Start": 1677,
    "End": 1692,
    "Text": "update_emp_view"
  },
  {
    "Name": "ASCII_40",
    "Start": 1692,
    "End": 1693,
    "Text": "("
  },
  {
    "Name": "ASCII_41",
    "Start": 1693,
    "End": 1694,
    "Text": ")"
  },
  {
    "Name": "ASCII_59",
    "Start": 1694,
    "End": 1695,
    "Text": ";"
  }
]